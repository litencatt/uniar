{{ define "admin/music_list.go.tmpl" }}
{{ template "admin_header" . }}

<h2>Ê•ΩÊõ≤ÁÆ°ÁêÜ</h2>

<div class="mb-3">
    <a href="/admin/music/new" class="btn btn-primary">Êñ∞Ë¶èÊ•ΩÊõ≤ËøΩÂä†</a>
    <a href="/admin/import/music" class="btn btn-secondary">CSV„Ç§„É≥„Éù„Éº„Éà</a>
</div>

<!-- Ê§úÁ¥¢„Éï„Ç©„Éº„É† -->
<div class="card mb-4">
    <div class="card-header">
        <h5 class="mb-0">
            <button class="btn btn-link" type="button" data-bs-toggle="collapse" data-bs-target="#searchForm" aria-expanded="false" aria-controls="searchForm">
                üîç Ê§úÁ¥¢„Éª„Éï„Ç£„É´„Çø„Éº
            </button>
        </h5>
    </div>
    <div id="searchForm" class="collapse">
        <div class="card-body">
            <form method="GET" action="/admin/music">
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="name" class="form-label">Ê•ΩÊõ≤Âêç</label>
                            <input type="text" class="form-control" id="name" name="name" value="{{ .searchParams.Name }}" placeholder="Ê•ΩÊõ≤Âêç„ÅßÊ§úÁ¥¢">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="live_id" class="form-label">„É©„Ç§„Éñ</label>
                            <select class="form-control" id="live_id" name="live_id">
                                <option value="0">„Åô„Åπ„Å¶</option>
                                {{ range .lives }}
                                <option value="{{ .ID }}" {{ if eq .ID $.searchParams.LiveID }}selected{{ end }}>{{ .Name }}</option>
                                {{ end }}
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="color_type_id" class="form-label">„Ç´„É©„Éº</label>
                            <select class="form-control" id="color_type_id" name="color_type_id">
                                <option value="0">„Åô„Åπ„Å¶</option>
                                {{ range .colors }}
                                <option value="{{ .ID }}" {{ if eq .ID $.searchParams.ColorTypeID }}selected{{ end }}>{{ .Name }}</option>
                                {{ end }}
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">Ê§úÁ¥¢</button>
                        <a href="/admin/music" class="btn btn-secondary">„ÇØ„É™„Ç¢</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>Ê•ΩÊõ≤Âêç</th>
            <th>„É©„Ç§„Éñ</th>
            <th>„Ç´„É©„Éº</th>
            <th>Normal</th>
            <th>Pro</th>
            <th>Master</th>
            <th>Èï∑„Åï</th>
            <th>Ê•ΩÊõ≤„Éú„Éº„Éä„Çπ</th>
            <th>Êìç‰Ωú</th>
        </tr>
    </thead>
    <tbody>
        {{ range .musics }}
        <tr>
            <td>{{ .ID }}</td>
            <td>{{ .Name }}</td>
            <td>{{ .LiveName }}</td>
            <td>{{ .ColorName }}</td>
            <td>{{ .Normal }}</td>
            <td>{{ .Pro }}</td>
            <td>{{ .Master }}</td>
            <td>{{ .Length }}</td>
            <td>{{ .MusicBonus }}</td>
            <td>
                <a href="/admin/music/{{ .ID }}/edit" class="btn">Á∑®ÈõÜ</a>
                <form method="post" action="/admin/music/{{ .ID }}/delete" style="display: inline;"
                      onsubmit="return confirm('„Åì„ÅÆÊ•ΩÊõ≤„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')">
                    <button type="submit" class="btn btn-danger">ÂâäÈô§</button>
                </form>
            </td>
        </tr>
        {{ end }}
    </tbody>
</table>

{{ template "admin_footer" . }}
{{ end }}