{{ define "admin/photograph_list.go.tmpl" }}
{{ template "admin_header" . }}

<h2>ÊíÆÂΩ±ÁÆ°ÁêÜ</h2>

<div class="mb-3">
    <a href="/admin/photograph/new" class="btn btn-primary">Êñ∞Ë¶èÊíÆÂΩ±ËøΩÂä†</a>
    <a href="/admin/import/photograph" class="btn btn-secondary">CSV„Ç§„É≥„Éù„Éº„Éà</a>
</div>

<!-- Ê§úÁ¥¢„Éï„Ç©„Éº„É† -->
<div class="card mb-4">
    <div class="card-header">
        <h5 class="mb-0">
            <button class="btn btn-link" type="button" data-bs-toggle="collapse" data-bs-target="#searchForm" aria-expanded="false" aria-controls="searchForm">
                üîç Ê§úÁ¥¢„Éª„Éï„Ç£„É´„Çø„Éº
            </button>
        </h5>
    </div>
    <div id="searchForm" class="collapse">
        <div class="card-body">
            <form method="GET" action="/admin/photograph">
                <div class="row">
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="name" class="form-label">ÊíÆÂΩ±Âêç</label>
                            <input type="text" class="form-control" id="name" name="name" value="{{ .searchParams.Name }}" placeholder="ÊíÆÂΩ±Âêç„ÅßÊ§úÁ¥¢">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="group_id" class="form-label">„Ç∞„É´„Éº„Éó</label>
                            <select class="form-control" id="group_id" name="group_id">
                                <option value="0">„Åô„Åπ„Å¶</option>
                                {{ range .groups }}
                                <option value="{{ .ID }}" {{ if eq .ID $.searchParams.GroupID }}selected{{ end }}>{{ .Name }}</option>
                                {{ end }}
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="mb-3">
                            <label for="photo_type" class="form-label">ÊíÆÂΩ±„Çø„Ç§„Éó</label>
                            <select class="form-control" id="photo_type" name="photo_type">
                                <option value="">„Åô„Åπ„Å¶</option>
                                {{ range .photoTypes }}
                                <option value="{{ . }}" {{ if eq . $.searchParams.PhotoType }}selected{{ end }}>{{ . }}</option>
                                {{ end }}
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">Ê§úÁ¥¢</button>
                        <a href="/admin/photograph" class="btn btn-secondary">„ÇØ„É™„Ç¢</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>ÊíÆÂΩ±Âêç</th>
            <th>„Ç∞„É´„Éº„Éó</th>
            <th>ÊíÆÂΩ±„Çø„Ç§„Éó</th>
            <th>Áï•Áß∞</th>
            <th>‰∏¶„Å≥È†ÜÂêç</th>
            <th>Êìç‰Ωú</th>
        </tr>
    </thead>
    <tbody>
        {{ range .photographs }}
        <tr>
            <td>{{ .ID }}</td>
            <td>{{ .Name }}</td>
            <td>{{ .GroupName }}</td>
            <td>{{ .PhotoType }}</td>
            <td>{{ .Abbreviation }}</td>
            <td>{{ .NameForOrder }}</td>
            <td>
                <a href="/admin/photograph/{{ .ID }}/edit" class="btn">Á∑®ÈõÜ</a>
                <form method="post" action="/admin/photograph/{{ .ID }}/delete" style="display: inline;"
                      onsubmit="return confirm('„Åì„ÅÆÊíÆÂΩ±„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')">
                    <button type="submit" class="btn btn-danger">ÂâäÈô§</button>
                </form>
            </td>
        </tr>
        {{ end }}
    </tbody>
</table>

{{ template "admin_footer" . }}
{{ end }}