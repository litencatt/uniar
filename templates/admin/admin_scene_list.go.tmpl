{{ define "admin_scene_list.go.tmpl" }}
{{ template "admin_header" . }}

<h2>„Ç∑„Éº„É≥„Ç´„Éº„ÉâÁÆ°ÁêÜ</h2>

<div class="mb-3">
    <a href="/admin/scene/new" class="btn btn-primary">Êñ∞Ë¶è„Ç∑„Éº„É≥„Ç´„Éº„ÉâËøΩÂä†</a>
    <a href="/admin/import/scene" class="btn btn-secondary">CSV„Ç§„É≥„Éù„Éº„Éà</a>
</div>

<!-- Ê§úÁ¥¢„Éï„Ç©„Éº„É† -->
<div class="card mb-4">
    <div class="card-header">
        <h5 class="mb-0">
            <button class="btn btn-link" type="button" data-bs-toggle="collapse" data-bs-target="#searchForm" aria-expanded="false" aria-controls="searchForm">
                üîç Ê§úÁ¥¢„Éª„Éï„Ç£„É´„Çø„Éº
            </button>
        </h5>
    </div>
    <div id="searchForm" class="collapse">
        <div class="card-body">
            <form method="GET" action="/admin/scene">
                <div class="row">
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="member_id" class="form-label">„É°„É≥„Éê„Éº</label>
                            <select class="form-control" id="member_id" name="member_id">
                                <option value="0">„Åô„Åπ„Å¶</option>
                                {{ range .members }}
                                <option value="{{ .ID }}" {{ if eq .ID $.searchParams.MemberID }}selected{{ end }}>{{ .Name }}</option>
                                {{ end }}
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="photograph_id" class="form-label">ÊíÆÂΩ±</label>
                            <select class="form-control" id="photograph_id" name="photograph_id">
                                <option value="0">„Åô„Åπ„Å¶</option>
                                {{ range .photographs }}
                                <option value="{{ .ID }}" {{ if eq .ID $.searchParams.PhotographID }}selected{{ end }}>{{ .Name }}</option>
                                {{ end }}
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="color_type_id" class="form-label">„Ç´„É©„Éº</label>
                            <select class="form-control" id="color_type_id" name="color_type_id">
                                <option value="0">„Åô„Åπ„Å¶</option>
                                {{ range .colors }}
                                <option value="{{ .ID }}" {{ if eq .ID $.searchParams.ColorTypeID }}selected{{ end }}>{{ .Name }}</option>
                                {{ end }}
                            </select>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="mb-3">
                            <label for="ssr_plus" class="form-label">„É¨„Ç¢„É™„ÉÜ„Ç£</label>
                            <select class="form-control" id="ssr_plus" name="ssr_plus">
                                <option value="-1">„Åô„Åπ„Å¶</option>
                                <option value="1" {{ if eq 1 .searchParams.SSRPlus }}selected{{ end }}>SSR+</option>
                                <option value="0" {{ if eq 0 .searchParams.SSRPlus }}selected{{ end }}>ÈÄöÂ∏∏</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <button type="submit" class="btn btn-primary">Ê§úÁ¥¢</button>
                        <a href="/admin/scene" class="btn btn-secondary">„ÇØ„É™„Ç¢</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<table class="table">
    <thead>
        <tr>
            <th>ID</th>
            <th>ÊíÆÂΩ±</th>
            <th>„É°„É≥„Éê„Éº</th>
            <th>„Ç´„É©„Éº</th>
            <th>Vocal</th>
            <th>Dance</th>
            <th>Performance</th>
            <th>ÊúüÂæÖÂÄ§</th>
            <th>SSR+</th>
            <th>Êìç‰Ωú</th>
        </tr>
    </thead>
    <tbody>
        {{ range .scenes }}
        <tr>
            <td>{{ .ID }}</td>
            <td>{{ .PhotographName }}</td>
            <td>{{ .MemberName }}</td>
            <td>{{ .ColorName }}</td>
            <td>{{ .VocalMax }}</td>
            <td>{{ .DanceMax }}</td>
            <td>{{ .PerformanceMax }}</td>
            <td>{{ .ExpectedValue }}</td>
            <td>{{ if eq .SsrPlus 1 }}Yes{{ else }}No{{ end }}</td>
            <td>
                <a href="/admin/scene/{{ .ID }}/edit" class="btn">Á∑®ÈõÜ</a>
                <form method="post" action="/admin/scene/{{ .ID }}/delete" style="display: inline;"
                      onsubmit="return confirm('„Åì„ÅÆ„Ç∑„Éº„É≥„Ç´„Éº„Éâ„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')">
                    <button type="submit" class="btn btn-danger">ÂâäÈô§</button>
                </form>
            </td>
        </tr>
        {{ end }}
    </tbody>
</table>

<!-- „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥ -->
<div class="pagination">
    {{ if .hasPrev }}
        <a href="?page={{ .prevPage }}">&laquo; Ââç„Å∏</a>
    {{ end }}

    <span>„Éö„Éº„Ç∏ {{ .currentPage }} / {{ .totalPages }}</span>

    {{ if .hasNext }}
        <a href="?page={{ .nextPage }}">Ê¨°„Å∏ &raquo;</a>
    {{ end }}
</div>

{{ template "admin_footer" . }}
{{ end }}